<!DOCTYPE html>
<html lang="ru" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head th:replace="base :: head(~{::title})">
    <title>Изменение профиля</title>
</head>
<body>
<section th:insert="navbar::header"></section>

<div class="container" th:object="${user}">
    <div class="main-body">
        <div class="row">
            <div class="col-lg-4">
                <div class="card">
                    <div class="card-body">
                        <div class="d-flex flex-column align-items-center text-center">
                            <img src="https://bootdey.com/img/Content/avatar/avatar6.png" alt="Admin" class="rounded-circle p-1 bg-primary" width="110">
                            <div class="mt-3">
                                <h4 th:text="*{firstName}"></h4>
                            </div>
                        </div>
                        <hr class="my-4">
                        <button class="btn btn-primary">Изменить аватар</button>
                    </div>
                </div>
            </div>
            <div class="col-lg-8">
                <form class="card" method="post" th:action="@{/user-update}">
                    <div class="card-body">
                        <input th:field="*{id}" type="hidden" class="form-control" id="id">
                        <div class="row mb-3">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Имя</h6>
                            </div>
                            <div class="col-sm-9 text-secondary">
                                <input type="text" id="firstName" class="form-control" th:field="*{firstName}">
                                <p th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}"></p>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Фамилия</h6>
                            </div>
                            <div class="col-sm-9 text-secondary">
                                <input type="text" id="lastName" class="form-control" th:field="*{lastName}">
                                <p th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}"></p>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Логин</h6>
                            </div>
                            <div class="col-sm-9 text-secondary">
                                <input type="text" id="username" class="form-control" th:field="*{username}">
                                <p th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></p>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Пароль</h6>
                            </div>
                            <div class="col-sm-9 text-secondary">
                                <input type="password" id="password" class="form-control" th:field="*{password}" th:value="''" placeholder="Введите новый пароль">
                                <p th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></p>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Подтвердите пароль</h6>
                            </div>
                            <div class="col-sm-9 text-secondary">
                                <input type="password" class="form-control" th:field="*{passwordConfirm}" placeholder="Подтвердите пароль">
                                <p th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></p>
                                <p th:if="${confirmError}" th:utext="${confirmError}"></p>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Роли</h6>
                            </div>
                            <div class="col-sm-9 text-secondary">
                                <div class="form-group">
                                    <select  class="form-control" name="authorities">
<!--                                        <option th:each="role : ${roles}"-->
<!--                                                th:value="${role.authority}"-->
<!--                                                th:utext="${role.authority}"></option>-->
                                        <option th:value="${'ROLE_ADMIN'}"
                                                th:utext="${'Администратор'}"></option>
                                        <option th:value="${'ROLE_USER'}"
                                                th:utext="${'Пользователь'}"></option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-3"></div>
                            <div class="col-sm-9 text-secondary">
                                <input type="submit" class="btn-primary" value="Сохранить">
                                <a class="btn btn-secondary" th:href="@{/profile}">Отмена</a>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
</body>
</html>